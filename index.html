<head>
  <style> body { margin: 0; overflow: hidden; font-family: 'Open Sans', sans-serif;    
   .titleHeader {
    position: absolute;
    text-align: center;
    width: 100%;
    padding-top: 30px;
    background-color: rgba(255, 255, 255, 0.8);
    z-index: 5;
  }} </style>
  <script src="//unpkg.com/globe.gl"></script>
  <title>CLIP-map</title>
</head>

<body>
  <div class="titleHeader">
    <h1>CLIP-MAP</h1>
    <p>Click on a city to explore heatmaps powered by Google Streetview and CLIP, or read our <a href="https://leoimpett.github.io/impett-offert-2023/" target="_blank">paper</a>. </p>
  </div>

  <div id="globeViz"></div>

  <script>
     const markerSvg = `<svg viewBox="-4 0 36 36">
        <circle fill="currentColor" cx="14" cy="14" r="7"></circle>
     </svg>`;

     const gData = [
        { lat: 48.8566, lng: 2.3522, size: 30, color: 'red', href: 'https://leoimpett.github.io/clip-map/map.html?paris' },
        { lat: 41.9028, lng: 12.4964, size: 30, color: 'lightgreen', href: 'https://leoimpett.github.io/clip-map/map.html?rome' },
        { lat: 51.5074, lng: -0.1278, size: 30, color: 'yellow', href: 'https://leoimpett.github.io/clip-map/map.html?london' },
        { lat: 40.7128, lng: -74.0060, size: 30, color: 'blue', href: 'https://leoimpett.github.io/clip-map/map.html?newyork' },
        { lat: 35.6762, lng: 139.6503, size: 30, color: 'cyan', href: 'https://leoimpett.github.io/clip-map/map.html?tokyo' },
        { lat: -26.207, lng: 28.045, size: 30, color: 'orange', href: 'https://leoimpett.github.io/clip-map/map.html?johannesburg' }
     ];

     const world = Globe()
        .backgroundColor('rgba(0,0,0,.0)')
        .showGlobe(true)
        .showAtmosphere(true)
        .htmlElementsData(gData)
        .htmlElement(d => {
           const el = document.createElement('div');
           el.innerHTML = markerSvg;
           el.style.color = d.color;
           el.style.width = `${d.size}px`;

           el.style['pointer-events'] = 'auto';
           el.style.cursor = 'pointer';
           el.onclick = () => window.open(d.href, '_blank');
           return el;
        })
        .globeImageUrl('Earth_Water.jpg') // Optional, to add a globe texture
        (document.getElementById('globeViz'));

  </script>
</body>
